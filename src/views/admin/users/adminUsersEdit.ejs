<%- include('../../partials/head') %> 
<body>
    <header>
        <%- include('../../partials/header')  %>
    </header>
    <main>
        <div class="container">
            <div class="row text-center">
              <h1>Edici√≥n de Usuarios</h1>
              <hr>
        </div>

        <div class="row justify-content-lg-center">
            <div class="row" style="width: 40rem;">

                <form action="/admin/adminusuariosEdit/<%= usuarioActualizar.id  %>" method="post">

                    <div class="input-group mb-3">
                        <% if(locals.errors && errors.name){ %>
                            <div class="form-control"><%= errors.name.msg %></div> 
                        <% } %>
                        <span class="input-group-text" id="basic-addon1">Nombre del Usuario:</span>
                        <input type="text" id="name" name="name" value="<%= usuarioActualizar.name  %>" aria-describedby="basic-addon1" class="form-control" disabled>
                    </div>

                    <div class="input-group mb-3">
                        <% if(locals.errors && errors.email){ %>
                            <div class="formularios_error"><%= errors.email.msg %></div> 
                        <% } %>
                        <span class="input-group-text" id="basic-addon2">Email:</span>
                        <input type="text" id="email" name="email" value="<%= usuarioActualizar.email  %>" aria-describedby="basic-addon2"  class="form-control" disabled>
                    </div>
                    
                    <div class="input-group mb-3">
                        <% if(locals.errors && errors.rol){ %>
                            <div class="formularios_error"><%= errors.rol.msg %></div> 
                        <% } %>
                        <select name="rol" id="rol" class="form-select" value="<%= usuarioActualizar.role.id  %>">
                            <option value="<%= usuarioActualizar.role.id %>" hidden><%= usuarioActualizar.role.role %></option>
                            <% for (const rol of roles){
                                if (usuarioActualizar.role.role !== rol.role){ %>
                                <option value="<%= rol.id %>"><%= rol.role %></option>
                            <% }} %>
                        </select>
                    </div>

                    <div class="input-group mb-3">
                        <img width="20%" src="/img/avatars/<%= usuarioActualizar.avatar %>" alt="<%= usuarioActualizar.name %>">
                    </div>

                    <div class="text-end">
                       <button type="submit" class="btn btn-success">Guardar</button>
                       <a href="/admin/adminusuarios" class="btn btn-danger">Cancelar</a>    
                    </div>
                </form>
            </div>
        </div>

    </main>
    <footer>
        <%- include('../../partials/footer'); %>
    </footer>
</body>
</html>